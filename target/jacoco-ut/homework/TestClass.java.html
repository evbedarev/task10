<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../.resources/report.css" type="text/css"/><link rel="shortcut icon" href="../.resources/report.gif" type="image/gif"/><title>TestClass.java</title><link rel="stylesheet" href="../.resources/prettify.css" type="text/css"/><script type="text/javascript" src="../.resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../.sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">homework</a> &gt; <a href="index.source.html" class="el_package">homework</a> &gt; <span class="el_source">TestClass.java</span></div><h1>TestClass.java</h1><pre class="source lang-java linenums">package homework;

import java.lang.annotation.Annotation;
import java.lang.reflect.*;

<span class="nc" id="L6">public class TestClass {</span>
    public static void main(String[] args) throws Exception{

<span class="nc" id="L9">        Class soughtClass = Class.forName(&quot;homework.common.entity.TeslaModel3&quot;);</span>
//        Class soughtClass = Class.forName(&quot;./src/main/java/homework/common/entity/TeslaModel3&quot;);
<span class="nc" id="L11">        System.out.println(soughtClass.getPackage());</span>


<span class="nc" id="L14">        Constructor constructors = soughtClass.getConstructor(new Class[]{String.class, int.class});</span>
<span class="nc bnc" id="L15" title="All 2 branches missed.">        for (Class par: constructors.getParameterTypes()) {</span>
<span class="nc" id="L16">            System.out.println(par.toString());</span>
        }

<span class="nc" id="L19">        Object createdObj = constructors.newInstance(&quot;Tesla&quot;, 10);</span>
<span class="nc" id="L20">        System.out.println(createdObj.getClass().toString());</span>

<span class="nc" id="L22">        Field modifiersField = createdObj.getClass().getDeclaredField(&quot;number&quot;);</span>
<span class="nc" id="L23">        modifiersField.setAccessible(true);</span>
<span class="nc" id="L24">        System.out.println(modifiersField.getModifiers());</span>
<span class="nc" id="L25">        modifiersField.set(createdObj,&quot;changed&quot;);</span>
<span class="nc" id="L26">        System.out.println(modifiersField.get(createdObj));</span>



<span class="nc bnc" id="L30" title="All 2 branches missed.">        for (Field field:soughtClass.getFields()) {</span>
<span class="nc" id="L31">            System.out.println(field.toString());</span>
        }

<span class="nc" id="L34">        System.out.println(&quot;========Methods========&quot;);</span>
<span class="nc" id="L35">        Method[] methods = soughtClass.getMethods();</span>
<span class="nc bnc" id="L36" title="All 2 branches missed.">        for (Method meth: methods) {</span>
//            if (meth.getName().contains(&quot;set&quot;)) {
//                Method method = soughtClass.getDeclaredMethod(&quot;setNumber&quot;, new Class[]{String.class});
//                method.invoke(createdObj,&quot;Hellow&quot;);
//            }
<span class="nc" id="L41">            findReflectable(meth);</span>
        }

//        System.out.println(&quot;========Annotations class======&quot;);
//        Annotation[] annotations = soughtClass.getAnnotations();
//        for (Annotation annotation: annotations) {
//            if(annotation instanceof Reflectable) {
//                Reflectable mAnnotation = (Reflectable) annotation;
//                System.out.println(mAnnotation.name());
//                System.out.println(mAnnotation.value());
//            }
//        }

//        System.out.println(&quot;========Annotations Parameter======&quot;);
//        Method method =
//                soughtClass.getMethod(&quot;setNumber&quot;, new Class[]{String.class});
//        Annotation[][] paramAnnotations = method.getParameterAnnotations();
//        Class[] paramTypes = method.getParameterTypes();
//
//        int i = 0;
//        for (Annotation[] annotationss: paramAnnotations) {
//            Class paramType = paramTypes[i++];
//
//            for (Annotation annotatio: annotationss) {
//                if (annotatio instanceof Reflectable) {
//                    Reflectable refAnn = (Reflectable) annotatio;
//                    System.out.println(&quot;param: &quot; + paramType.getName());
//                    System.out.println(&quot;name: &quot; + refAnn.name());
//                    System.out.println(&quot;value: &quot; + refAnn.value());
//                }
//            }
//        }
<span class="nc" id="L73">    }</span>

    private static void findReflectable(Method method) {
<span class="nc" id="L76">        System.out.println(&quot;========Annotations Method========&quot;);</span>
<span class="nc" id="L77">        Annotation[] methAnnotation = method.getAnnotations();</span>
<span class="nc bnc" id="L78" title="All 2 branches missed.">        for (Annotation methodA: methAnnotation) {</span>
<span class="nc bnc" id="L79" title="All 2 branches missed.">            if (methodA instanceof Reflectable) {</span>
<span class="nc" id="L80">                Reflectable refAnnMethod = (Reflectable) methodA;</span>
<span class="nc" id="L81">                System.out.println(&quot;method: &quot; + method.getName());</span>
<span class="nc" id="L82">                System.out.println(&quot;name: &quot; + refAnnMethod.name());</span>
<span class="nc" id="L83">                System.out.println(&quot;value: &quot; + refAnnMethod.value());</span>
            }
        }
<span class="nc" id="L86">    }</span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.7.5.201505241946</span></div></body></html>